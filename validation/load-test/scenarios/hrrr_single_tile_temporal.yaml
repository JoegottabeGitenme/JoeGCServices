name: hrrr_single_tile_temporal
description: |
  Single-tile HRRR temporal test - isolated temporal caching.
  Fixed tile, cycling through forecast hours from one model run.
  
  Perfect for debugging HRRR-specific cache behavior and
  measuring overhead of large file (130MB) vs small file (400KB MRMS).

base_url: http://localhost:8080
duration_secs: 60
concurrency: 5
warmup_secs: 5
seed: 88888

layers:
  - name: hrrr_TMP
    style: temperature
    weight: 1.0

# Fixed tile - Kansas City area at moderate zoom
tile_selection:
  type: fixed
  tiles:
    - [6, 14, 22]

# Sequential through 3 forecast hours from 11Z cycle
time_selection:
  type: sequential
  times:
    - "2025-11-28T11:00:00Z"  # 11Z +0h
    - "2025-11-28T12:00:00Z"  # 11Z +1h
    - "2025-11-28T13:00:00Z"  # 11Z +2h

# Expected behavior:
# With 5 concurrent workers and 60s duration:
# - Each worker cycles through 3 times sequentially
# - Workers offset: W1 at T0, W2 at T1, W3 at T2, W4 at T0, W5 at T1
# - After first 3 requests, all GRIB files loaded
# - Subsequent requests: 100% GRIB cache hits
# - 3 unique rendered tiles (one per forecast hour)
#
# Cache metrics to observe:
# - First 3 requests: 0% GRIB hit rate
# - Requests 4+: Should approach 100% hit rate
# - Memory: 3 files × 135 MB = ~405 MB baseline
# - Rendered tiles: 3 tiles (small compared to GRIB cache)
#
# Comparison to MRMS/GOES:
# - MRMS: 59 files × 400 KB = 24 MB
# - GOES: 5 files × 2.8 MB = 14 MB
# - HRRR: 3 files × 135 MB = 405 MB (!)
#
# Perfect test for:
# - Verifying HRRR GRIB2 cache works with large files
# - Measuring cache load/decode time for 130MB files
# - Debugging temporal lookup for forecast models
# - Establishing baseline for HRRR performance
